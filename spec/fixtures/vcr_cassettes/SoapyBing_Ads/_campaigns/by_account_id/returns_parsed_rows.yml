---
http_interactions:
- request:
    method: post
    uri: https://login.live.com/oauth20_token.srf
    body:
      encoding: UTF-8
      string: client_id=bing-ads-oauth-client-id&client_secret=bing-ads-oauth-client-secret&grant_type=refresh_token&refresh_token=bing-ads-oauth-refresh-token
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-store
      Pragma:
      - no-cache
      Content-Length:
      - '1509'
      Content-Type:
      - application/json
      Server:
      - Microsoft-IIS/8.5
      X-Content-Type-Options:
      - nosniff
      Strict-Transport-Security:
      - max-age=31536000
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Thu, 22 Jun 2017 12:21:02 GMT
      Connection:
      - close
    body:
      encoding: UTF-8
      string: '{"token_type":"bearer","expires_in":3600,"scope":"bingads.manage","access_token":"bing-ads-oauth-authentication-token","refresh_token":"bing-ads-oauth-refresh-token","user_id":"bing-ads-oauth-user-id"}'
    http_version: 
  recorded_at: Thu, 22 Jun 2017 12:21:03 GMT
- request:
    method: post
    uri: https://bulk.api.bingads.microsoft.com/Api/Advertiser/CampaignManagement/V11/BulkService.svc
    body:
      encoding: UTF-8
      string: <?xml version="1.0" encoding="UTF-8"?><env:Envelope xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tns="https://bingads.microsoft.com/CampaignManagement/v11"
        xmlns:env="http://schemas.xmlsoap.org/soap/envelope/"><env:Header><tns:Action>DownloadCampaignsByAccountIds</tns:Action><tns:AuthenticationToken>bing-ads-oauth-authentication-token</tns:AuthenticationToken><tns:DeveloperToken>bing-ads-developer-token</tns:DeveloperToken><tns:CustomerAccountId>bing-ads-account-id</tns:CustomerAccountId></env:Header><env:Body><tns:DownloadCampaignsByAccountIdsRequest><tns:AccountIds
        xmlns:a1="http://schemas.microsoft.com/2003/10/Serialization/Arrays"><a1:long>bing-ads-account-id</a1:long></tns:AccountIds><tns:DownloadEntities><tns:DownloadEntity>Campaigns</tns:DownloadEntity></tns:DownloadEntities><tns:DownloadFileType>Csv</tns:DownloadFileType><tns:FormatVersion>5.0</tns:FormatVersion></tns:DownloadCampaignsByAccountIdsRequest></env:Body></env:Envelope>
    headers:
      Soapaction:
      - '"DownloadCampaignsByAccountIds"'
      Content-Type:
      - text/xml;charset=UTF-8
      Content-Length:
      - '1961'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - private
      Content-Type:
      - text/xml; charset=utf-8
      Vary:
      - Accept-Encoding
      Server:
      - Microsoft-IIS/8.5
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Date:
      - Thu, 22 Jun 2017 12:21:03 GMT
      Content-Length:
      - '256'
    body:
      encoding: ASCII-8BIT
      string: <s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Header><h:TrackingId
        xmlns:h="https://bingads.microsoft.com/CampaignManagement/v11">bing-ads-report-tracking-id</h:TrackingId></s:Header><s:Body><DownloadCampaignsByAccountIdsResponse
        xmlns="https://bingads.microsoft.com/CampaignManagement/v11"><DownloadRequestId>1099516605770</DownloadRequestId></DownloadCampaignsByAccountIdsResponse></s:Body></s:Envelope>
    http_version: 
  recorded_at: Thu, 22 Jun 2017 12:21:04 GMT
- request:
    method: post
    uri: https://bulk.api.bingads.microsoft.com/Api/Advertiser/CampaignManagement/V11/BulkService.svc
    body:
      encoding: UTF-8
      string: <?xml version="1.0" encoding="UTF-8"?><env:Envelope xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tns="https://bingads.microsoft.com/CampaignManagement/v11"
        xmlns:env="http://schemas.xmlsoap.org/soap/envelope/"><env:Header><tns:Action>GetBulkDownloadStatus</tns:Action><tns:AuthenticationToken>bing-ads-oauth-authentication-token</tns:AuthenticationToken><tns:DeveloperToken>bing-ads-developer-token</tns:DeveloperToken><tns:CustomerAccountId>bing-ads-account-id</tns:CustomerAccountId></env:Header><env:Body><tns:GetBulkDownloadStatusRequest><tns:RequestId>1099516605770</tns:RequestId></tns:GetBulkDownloadStatusRequest></env:Body></env:Envelope>
    headers:
      Soapaction:
      - '"GetBulkDownloadStatus"'
      Content-Type:
      - text/xml;charset=UTF-8
      Content-Length:
      - '1668'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - private
      Content-Type:
      - text/xml; charset=utf-8
      Vary:
      - Accept-Encoding
      Server:
      - Microsoft-IIS/8.5
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Date:
      - Thu, 22 Jun 2017 12:21:05 GMT
      Content-Length:
      - '379'
    body:
      encoding: ASCII-8BIT
      string: <s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Header><h:TrackingId
        xmlns:h="https://bingads.microsoft.com/CampaignManagement/v11">bing-ads-report-tracking-id</h:TrackingId></s:Header><s:Body><GetBulkDownloadStatusResponse
        xmlns="https://bingads.microsoft.com/CampaignManagement/v11"><Errors i:nil="true"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"/><ForwardCompatibilityMap
        xmlns:a="http://schemas.datacontract.org/2004/07/System.Collections.Generic"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"/><PercentComplete>1</PercentComplete><RequestStatus>InProgress</RequestStatus><ResultFileUrl
        i:nil="true" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"/></GetBulkDownloadStatusResponse></s:Body></s:Envelope>
    http_version: 
  recorded_at: Thu, 22 Jun 2017 12:21:05 GMT
- request:
    method: post
    uri: https://bulk.api.bingads.microsoft.com/Api/Advertiser/CampaignManagement/V11/BulkService.svc
    body:
      encoding: UTF-8
      string: <?xml version="1.0" encoding="UTF-8"?><env:Envelope xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tns="https://bingads.microsoft.com/CampaignManagement/v11"
        xmlns:env="http://schemas.xmlsoap.org/soap/envelope/"><env:Header><tns:Action>GetBulkDownloadStatus</tns:Action><tns:AuthenticationToken>bing-ads-oauth-authentication-token</tns:AuthenticationToken><tns:DeveloperToken>bing-ads-developer-token</tns:DeveloperToken><tns:CustomerAccountId>bing-ads-account-id</tns:CustomerAccountId></env:Header><env:Body><tns:GetBulkDownloadStatusRequest><tns:RequestId>1099516605770</tns:RequestId></tns:GetBulkDownloadStatusRequest></env:Body></env:Envelope>
    headers:
      Soapaction:
      - '"GetBulkDownloadStatus"'
      Content-Type:
      - text/xml;charset=UTF-8
      Content-Length:
      - '1668'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - private
      Content-Type:
      - text/xml; charset=utf-8
      Vary:
      - Accept-Encoding
      Server:
      - Microsoft-IIS/8.5
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Date:
      - Thu, 22 Jun 2017 12:23:05 GMT
      Content-Length:
      - '568'
    body:
      encoding: ASCII-8BIT
      string: <s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Header><h:TrackingId
        xmlns:h="https://bingads.microsoft.com/CampaignManagement/v11">bing-ads-report-tracking-id</h:TrackingId></s:Header><s:Body><GetBulkDownloadStatusResponse
        xmlns="https://bingads.microsoft.com/CampaignManagement/v11"><Errors i:nil="true"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"/><ForwardCompatibilityMap
        xmlns:a="http://schemas.datacontract.org/2004/07/System.Collections.Generic"
        xmlns:i="http://www.w3.org/2001/XMLSchema-instance"/><PercentComplete>100</PercentComplete><RequestStatus>Completed</RequestStatus><ResultFileUrl>https://bingadsappsstorageprod.blob.core.windows.net/bulkdownloadresultfiles/DownloadHierarchy-1099516605770-70746a3c-029d-4196-84f5-4b31e7d36bd0.zip?sv=2015-12-11&amp;sr=b&amp;sig=X5Ff0kNyHNtnWzKjt5sbJfwtY89nfvL1yzsMXPk337c%3D&amp;st=2017-06-22T12%3A18%3A06Z&amp;se=2017-06-22T12%3A43%3A06Z&amp;sp=rl</ResultFileUrl></GetBulkDownloadStatusResponse></s:Body></s:Envelope>
    http_version: 
  recorded_at: Thu, 22 Jun 2017 12:23:06 GMT
- request:
    method: get
    uri: https://bingadsappsstorageprod.blob.core.windows.net/bulkdownloadresultfiles/DownloadHierarchy-1099516605770-70746a3c-029d-4196-84f5-4b31e7d36bd0.zip?se=2017-06-22T12:43:06Z&sig=X5Ff0kNyHNtnWzKjt5sbJfwtY89nfvL1yzsMXPk337c=&sp=rl&sr=b&st=2017-06-22T12:18:06Z&sv=2015-12-11
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Length:
      - '5523'
      Content-Type:
      - application/zip
      Content-Md5:
      - 0WWiuUqJh/swr1bYv1rCyw==
      Last-Modified:
      - Thu, 22 Jun 2017 12:21:06 GMT
      Accept-Ranges:
      - bytes
      Etag:
      - '"0x8D4B969284A56DB"'
      Vary:
      - Origin
      Server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      X-Ms-Request-Id:
      - 98bcc00e-0001-00c5-1a52-eb4514000000
      X-Ms-Version:
      - '2015-12-11'
      X-Ms-Meta-Retentionlookupkey:
      - MultiAccountDownloadProd
      X-Ms-Meta-Trackingid:
      - 4ddc137b-e3e0-49f3-9ec8-58f4b336983f
      X-Ms-Meta-Requestid:
      - fe92bc93-4deb-4640-abd4-5b5af9fce69b
      X-Ms-Meta-Sessionid:
      - fe92bc93-4deb-4640-abd4-5b5af9fce69b
      X-Ms-Meta-Creatormachinename:
      - EAP010040205022
      X-Ms-Lease-Status:
      - unlocked
      X-Ms-Lease-State:
      - available
      X-Ms-Blob-Type:
      - BlockBlob
      Content-Disposition:
      - attachment;filename=DownloadHierarchy-1099516605770-70746a3c-029d-4196-84f5-4b31e7d36bd0.zip
      X-Ms-Server-Encrypted:
      - 'false'
      Date:
      - Thu, 22 Jun 2017 12:23:06 GMT
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
    http_version: 
  recorded_at: Thu, 22 Jun 2017 12:23:08 GMT
recorded_with: VCR 3.0.3
